<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel Generador de HTML - Yami Lat (Series)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>
<body class="text-gray-200 theme-orange">

    <div class="flex h-screen bg-slate-900">
        <!-- Sidebar -->
        <aside id="sidebar" class="w-64 flex-shrink-0 bg-slate-900/70 backdrop-blur-sm border-r border-slate-700 hidden md:flex flex-col transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-50 fixed md:static h-full">
            <div class="flex items-center gap-4 p-4 border-b border-slate-700">
                <a href="../index.html" class="btn-regresar" aria-label="Regresar">
                    <i class="fas fa-arrow-left text-xl"></i>
                    <span>Regresar</span>
                </a>
                 <div class="flex flex-col leading-tight">
                    <h1 class="text-2xl font-extrabold text-shadow-epic">
                        <span class="text-white">Yami</span><span class="text-orange-500">Lat</span>
                    </h1>
                    <h2 class="text-xs font-semibold text-slate-300 tracking-widest uppercase">
                        Series Panel
                    </h2>
                </div>
            </div>
            <nav class="flex-grow p-4 space-y-2">
                <a href="#info-view" class="sidebar-link active flex items-center gap-3 p-3 rounded-lg transition-colors hover:bg-slate-700">
                    <i class="fas fa-info-circle w-5 text-center"></i>
                    <span>Información</span>
                </a>
                 <a href="#seasons-view" class="sidebar-link flex items-center gap-3 p-3 rounded-lg transition-colors hover:bg-slate-700">
                    <i class="fas fa-layer-group w-5 text-center"></i>
                    <span>Temporadas</span>
                </a>
                <a href="#episodes-view" class="sidebar-link flex items-center gap-3 p-3 rounded-lg transition-colors hover:bg-slate-700">
                    <i class="fas fa-list-ol w-5 text-center"></i>
                    <span>Episodios</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Header -->
            <header class="bg-slate-900/70 backdrop-blur-sm border-b border-slate-700">
                <div class="container mx-auto flex items-center justify-between p-4">
                     <button id="mobile-menu-btn" class="md:hidden text-2xl text-white"><i class="fas fa-bars"></i></button>
                     <div class="hidden md:block"></div> <!-- Placeholder to balance flexbox -->
                    <div class="flex items-center gap-4">
                        <button type="button" id="generate-button" class="btn-primary text-white font-bold py-2 px-4 rounded-lg shadow-md flex items-center justify-center gap-2 text-sm">
                            <i class="fas fa-bolt"></i> <span id="generate-button-text">Generar HTML</span>
                        </button>
                        <button type="button" id="show-load-modal-button" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-4 rounded-lg shadow-md flex items-center justify-center gap-2 text-sm">
                            <i class="fas fa-upload"></i> Cargar HTML
                        </button>
                    </div>
                </div>
            </header>
            
            <main id="main-content" class="flex-1 overflow-x-hidden overflow-y-auto p-4 md:p-8">
                
                <!-- Sección de Información General -->
                <div id="info-view" class="view-section bg-slate-800/50 p-6 rounded-2xl shadow-lg border border-slate-700">
                    <h2 class="text-2xl font-bold mb-5 border-l-4 border-orange-500 pl-4 text-white">Información General</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="md:col-span-2 space-y-4">
                            <div>
                                <label for="media-id" class="block mb-2 text-sm font-medium text-gray-300">ID de TMDB (Serie)</label>
                                <div class="flex gap-2">
                                    <input type="text" id="media-id" value="93405" class="form-input w-full p-3 rounded-lg text-white" placeholder="Ej: 1399">
                                    <button id="fetch-series-button" class="bg-slate-600 hover:bg-slate-500 px-4 rounded-lg" aria-label="Buscar serie"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="season-number" class="block mb-2 text-sm font-medium text-gray-300">Temp. Inicial</label>
                                    <input type="number" id="season-number" value="1" class="form-input w-full p-3 rounded-lg text-white" placeholder="Ej: 1" min="0">
                                </div>
                                <div>
                                    <label for="episode-number" class="block mb-2 text-sm font-medium text-gray-300">Ep. Inicial</label>
                                    <input type="number" id="episode-number" value="1" class="form-input w-full p-3 rounded-lg text-white" placeholder="Ej: 1" min="1">
                                </div>
                            </div>
                            <div>
                                <label for="theme-select" class="block mb-2 text-sm font-medium text-gray-300">Tema</label>
                                <select id="theme-select" class="form-input w-full p-3 rounded-lg text-white">
                                    <option value="purple">Púrpura</option>
                                    <option value="orange">Naranja</option>
                                </select>
                            </div>
                            <div>
                                <label for="categories-input" class="block mb-2 text-sm font-medium text-gray-300">Categorías (separadas por comas)</label>
                                <input type="text" id="categories-input" value="popular,top_rated,upcoming" class="form-input w-full p-3 rounded-lg text-white" placeholder="Ej: popular,top_rated,upcoming">
                            </div>
                            <div>
                                <label for="tmdb-logo-lang-input" class="block mb-2 text-sm font-medium text-gray-300">Idioma del Logo TMDB</label>
                                <input type="text" id="tmdb-logo-lang-input" value="es" class="form-input w-full p-3 rounded-lg text-white" placeholder="Ej: es">
                            </div>
                        </div>
                        <div id="preview-container" class="bg-slate-900 rounded-lg flex items-center justify-center p-4 transition-all duration-300 min-h-[250px]">
                            <div id="preview-placeholder" class="text-center text-gray-500">
                                <i class="fas fa-tv text-4xl mb-2"></i>
                                <p>Busca un ID para ver la vista previa</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gestor de Temporadas -->
                <div id="seasons-view" class="view-section hidden bg-slate-800/50 p-6 rounded-2xl shadow-lg border border-slate-700">
                    <h2 class="text-2xl font-bold mb-5 border-l-4 border-orange-500 pl-4 text-white">Gestor de Temporadas</h2>
                     <div id="seasons-manager-container" class="space-y-4">
                        <!-- Las temporadas se añadirán aquí dinámicamente -->
                    </div>
                    <button id="add-season-btn" class="mt-6 w-full btn-primary text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2">
                        <i class="fas fa-plus"></i> Añadir Temporada
                    </button>
                </div>
                
                <!-- Gestor de Episodios -->
                 <div id="episodes-view" class="view-section hidden bg-slate-800/50 p-6 rounded-2xl shadow-lg border border-slate-700">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-5 gap-4">
                        <h2 class="text-2xl font-bold border-l-4 border-orange-500 pl-4 text-white">Gestor de Episodios</h2>
                        <div class="relative w-full md:w-auto">
                            <input type="text" id="episode-search-input" class="form-input w-full md:w-64 p-2 pl-10 rounded-lg text-white bg-slate-700 border-slate-600" placeholder="Buscar episodio por nombre...">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                    </div>
                     <div id="episodes-manager-container" class="space-y-6">
                        <div id="episode-season-tabs" class="bg-slate-900/50 p-1 rounded-lg flex items-center gap-1 overflow-x-auto">
                           <!-- Tabs de temporada se generan aquí -->
                        </div>
                        <div id="episode-season-panels" class="mt-4">
                           <!-- Paneles de temporada se generan aquí -->
                        </div>
                    </div>
                </div>


            </main>
        </div>
    </div>
    
    <!-- Modals -->
    <div id="load-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
         <div class="bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl border border-slate-600 transform transition-all duration-300 scale-95 opacity-0" id="load-modal-content">
             <div class="flex justify-between items-center p-4 border-b border-slate-700">
                <h3 class="text-xl font-bold text-white">Cargar Contenido</h3>
                <button id="close-load-modal-button" class="text-gray-400 hover:text-white text-2xl leading-none">&times;</button>
            </div>
            <div class="p-6">
                 <!-- Tabs -->
                <div class="flex border-b border-slate-700 mb-4">
                    <button data-tab="from-text" class="load-tab active px-4 py-2 text-sm font-semibold">Desde Texto</button>
                    <button data-tab="from-url" class="load-tab px-4 py-2 text-sm font-semibold">Desde URL</button>
                </div>

                <!-- Tab Panels -->
                <div>
                    <!-- From Text Panel -->
                    <div id="from-text-panel" class="load-tab-panel">
                        <label for="load-html-input" class="block mb-2 text-sm font-medium text-gray-300">Pegar código HTML</label>
                        <textarea id="load-html-input" class="w-full h-48 bg-slate-900 text-green-400 font-mono p-3 rounded-lg border border-slate-600 focus:ring-2 focus:ring-orange-500 focus:outline-none"></textarea>
                    </div>
                    <!-- From URL Panel -->
                    <div id="from-url-panel" class="load-tab-panel hidden">
                        <label for="load-url-input" class="block mb-2 text-sm font-medium text-gray-300">Pegar URL</label>
                        <input type="url" id="load-url-input" class="form-input w-full p-3 rounded-lg text-white" value="https://yamilatintern.blogspot.com/2025/09/yami-lat-tu-guia-de-anime-window.html">
                    </div>
                </div>
            </div>
             <div class="flex justify-end gap-4 p-4 bg-slate-900/50 rounded-b-2xl">
                <button id="cancel-load-button" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-4 rounded-lg">Cancelar</button>
                <button id="confirm-load-button" class="btn-primary text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 text-sm">
                     <i class="fas fa-cloud-download-alt"></i> <span>Cargar</span>
                </button>
            </div>
        </div>
    </div>
    <div id="code-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
         <div class="bg-slate-800 rounded-2xl shadow-xl w-full max-w-3xl border border-slate-600 transform transition-all duration-300 scale-95 opacity-0" id="code-modal-content">
             <div class="flex justify-between items-center p-4 border-b border-slate-700">
                <h3 class="text-xl font-bold text-white">Código Generado</h3>
                <button id="close-code-modal-button" class="text-gray-400 hover:text-white text-2xl leading-none">&times;</button>
            </div>
            <div class="p-6">
                <textarea id="html-output" class="w-full h-96 bg-slate-950 text-green-400 font-mono p-4 rounded-lg border border-slate-700 resize-none focus:ring-2 focus:ring-orange-500 focus:outline-none" readonly></textarea>
            </div>
            <div class="flex justify-end gap-4 p-4 bg-slate-900/50 rounded-b-2xl">
                 <button id="copy-button" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2">
                    <i class="fas fa-copy"></i> <span id="copy-text">Copiar</span>
                </button>
                <button id="done-code-button" class="btn-primary text-white font-bold py-2 px-4 rounded-lg">Hecho</button>
            </div>
        </div>
    </div>
    <div id="add-episode-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
         <div class="bg-slate-800 rounded-2xl shadow-xl w-full max-w-md border border-slate-600 transform transition-all duration-300 scale-95 opacity-0" id="add-episode-modal-content">
             <div class="flex justify-between items-center p-4 border-b border-slate-700">
                <h3 class="text-xl font-bold text-white">Añadir Nuevo Episodio</h3>
                <button id="close-add-episode-modal-button" class="text-gray-400 hover:text-white text-2xl leading-none">&times;</button>
            </div>
            <div class="p-6 space-y-4">
                 <div>
                    <label for="new-episode-number" class="block mb-2 text-sm font-medium text-gray-300">Número de Episodio</label>
                    <input type="number" id="new-episode-number" class="form-input w-full p-3 rounded-lg text-white" placeholder="Ej: 1" min="1">
                </div>
                <div>
                    <label for="new-episode-url" class="block mb-2 text-sm font-medium text-gray-300">URL del Episodio</label>
                    <input type="text" id="new-episode-url" class="form-input w-full p-3 rounded-lg text-white" placeholder="ej: go:1399/season/1/episode/1">
                </div>
            </div>
            <div class="flex justify-end gap-4 p-4 bg-slate-900/50 rounded-b-2xl">
                <button id="cancel-add-episode-button" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-4 rounded-lg">Cancelar</button>
                <button id="confirm-add-episode-button" class="btn-primary text-white font-bold py-2 px-4 rounded-lg">Añadir Episodio</button>
            </div>
        </div>
    </div>
    <div id="confirmation-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
         <div class="bg-slate-800 rounded-2xl shadow-xl w-full max-w-md border border-slate-600 transform transition-all duration-300 scale-95 opacity-0" id="confirmation-modal-content">
             <div class="p-6 text-center">
                <i class="fas fa-exclamation-triangle text-4xl text-yellow-400 mb-4"></i>
                <h3 class="text-xl font-bold text-white mb-2">¿Estás seguro?</h3>
                <p id="confirmation-message" class="text-gray-400 mb-6">Esta acción no se puede deshacer.</p>
            </div>
            <div class="flex justify-center gap-4 p-4 bg-slate-900/50 rounded-b-2xl">
                <button id="cancel-confirmation-button" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-6 rounded-lg">Cancelar</button>
                <button id="confirm-delete-button" class="bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-6 rounded-lg">Eliminar</button>
            </div>
        </div>
    </div>


    <script src="script.js"></script>
</body>
</html>
